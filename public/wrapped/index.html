<!DOCTYPE html>
<html>
  <head>
    <link rel="icon" type="image/ico" href="https://michaelzhangwebsite.herokuapp.com/sFavicon.png">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-167496422-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
      
      gtag('config', 'UA-167496422-1');
    </script>
    <link href='https://fonts.googleapis.com/css?family=Cabin' rel='stylesheet'>

    <title id="documentTitle">Your Wrapped for Cracked Spotify</title>
  </head>
  <body>
    <font style="font-family: 'Cabin';">
      <center>
        <h1>Total Time</h1>
        <br>
        <p id="time"></p>
        <br>
        <br>
        <p id="disc">As of this feature's release date, Saturday, February 26, 2022<br>at 8:41:26pm EST (or 01:41:26 UTC)</p>
      </center>
    </font>
    <style>
      #time{
        font-size:22px;
      }
      #disc{
        font-size:14px;
        opacity:50%;
      }
    </style>
    <script src="http://code.jquery.com/jquery-2.1.0.js"></script>
    <script>
      if (localStorage.getItem("totalTime")===null||localStorage.getItem("totalTime")===undefined||localStorage.getItem("totalTime")===""){
        alert("Start listening to see how much total time you have listened for in the future!\nSending you home...");
        window.location=window.location.origin+"/spotifyYt";
      }else{
        var timeE = document.getElementById("time");
        var ms = parseInt(localStorage.getItem("totalTime"));
        timeE.append("You've listened for ");
        if(Math.floor(ms/3600000)!==0)timeE.append(Math.floor(ms/3600000));if(Math.floor(ms/3600000)==1)timeE.append(" hour, ");else if(Math.floor(ms/3600000)!==0)timeE.append(" hours, ");ms%=3600000;
        if(Math.floor(ms/60000)!==0)timeE.append(Math.floor(ms/60000));if(Math.floor(ms/60000)==1)timeE.append(" minute, ");else if(Math.floor(ms/60000)!==0)timeE.append(" minutes, ");ms%=60000;
        if(Math.floor(ms/1000)!==0)timeE.append(Math.floor(ms/1000));if(Math.floor(ms/1000)==1)timeE.append(" second, ");else if(Math.floor(ms/1000)!==0)timeE.append(" seconds, ");ms%=1000;
        timeE.append(" and "+ms);if(ms==1)timeE.append(" millisecond!");else timeE.append(" milliseconds!");
        //mins only
        var mins = parseInt(localStorage.getItem("totalTime"))/60000;
        timeE.append(document.createElement("br"));timeE.append(document.createElement("br"));
        timeE.append("You've listened to " + mins + "total minutes!");
      }
    </script>
  </body>
</html>
